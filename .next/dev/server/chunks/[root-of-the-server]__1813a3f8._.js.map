{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///E:/projects/edu-bridge-ai-platform/lib/auth.ts"],"sourcesContent":["import { cookies } from 'next/headers';\n\nexport type Session = { id: string; role: 'student'|'teacher'|'admin'; name: string; email: string }\n\nexport async function getSession(): Promise<Session | null> {\n  const cookieStore = await cookies()\n  const c = cookieStore.get('edubridge_session')?.value\n  if (!c) return null\n  try {\n    return JSON.parse(c)\n  } catch {\n    return null\n  }\n}\n\nexport async function requireRole(role: Session['role']): Promise<Session | null> {\n  const s = await getSession()\n  if (!s || s.role !== role) {\n    return null\n  }\n  return s\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAIO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,2QAAO;IACjC,MAAM,IAAI,YAAY,GAAG,CAAC,sBAAsB;IAChD,IAAI,CAAC,GAAG,OAAO;IACf,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe,YAAY,IAAqB;IACrD,MAAM,IAAI,MAAM;IAChB,IAAI,CAAC,KAAK,EAAE,IAAI,KAAK,MAAM;QACzB,OAAO;IACT;IACA,OAAO;AACT"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///E:/projects/edu-bridge-ai-platform/lib/mongodb.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst MONGODB_URI = process.env.MONGODB_URI as string;\n\nif (!MONGODB_URI) {\n  throw new Error(\n    'Please define the MONGODB_URI environment variable inside .env.local'\n  );\n}\n\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */\ninterface MongooseCache {\n  conn: typeof mongoose | null;\n  promise: Promise<typeof mongoose> | null;\n}\n\ndeclare global {\n  var mongoose: MongooseCache | undefined;\n}\n\nlet cached: MongooseCache = global.mongoose || { conn: null, promise: null };\n\nif (!global.mongoose) {\n  global.mongoose = cached;\n}\n\nasync function connectDB(): Promise<typeof mongoose> {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false,\n      serverSelectionTimeoutMS: 5000,\n      socketTimeoutMS: 45000,\n    };\n\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\n      console.log('‚úÖ MongoDB connected successfully');\n      return mongoose;\n    }).catch((err) => {\n      console.error('‚ùå MongoDB connection error:', err.message);\n      cached.promise = null;\n      throw err;\n    });\n  }\n\n  try {\n    cached.conn = await cached.promise;\n  } catch (e) {\n    cached.promise = null;\n    console.error('‚ùå MongoDB connection error:', e);\n    throw e;\n  }\n\n  return cached.conn;\n}\n\nexport default connectDB;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C,IAAI,CAAC,aAAa;IAChB,MAAM,IAAI,MACR;AAEJ;AAgBA,IAAI,SAAwB,OAAO,QAAQ,IAAI;IAAE,MAAM;IAAM,SAAS;AAAK;AAE3E,IAAI,CAAC,OAAO,QAAQ,EAAE;IACpB,OAAO,QAAQ,GAAG;AACpB;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;YAChB,0BAA0B;YAC1B,iBAAiB;QACnB;QAEA,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,QAAQ,GAAG,CAAC;YACZ,OAAO;QACT,GAAG,KAAK,CAAC,CAAC;YACR,QAAQ,KAAK,CAAC,+BAA+B,IAAI,OAAO;YACxD,OAAO,OAAO,GAAG;YACjB,MAAM;QACR;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAG;QACV,OAAO,OAAO,GAAG;QACjB,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///E:/projects/edu-bridge-ai-platform/lib/models/ChatMessage.ts"],"sourcesContent":["import mongoose, { Document, Model, Schema } from 'mongoose'\n\nexport interface IChatMessage extends Document {\n  _id: string\n  userId: mongoose.Types.ObjectId\n  userName: string\n  role: 'user' | 'assistant'\n  content: string\n  language: string\n  quizMode: boolean\n  timestamp: Date\n}\n\nconst ChatMessageSchema = new Schema<IChatMessage>({\n  userId: { type: Schema.Types.ObjectId, ref: 'User', required: true },\n  userName: { type: String, required: true },\n  role: { type: String, enum: ['user', 'assistant'], required: true },\n  content: { type: String, required: true },\n  language: { type: String, default: 'english' },\n  quizMode: { type: Boolean, default: false },\n  timestamp: { type: Date, default: Date.now }\n}, { timestamps: true })\n\n// Indexes for performance\nChatMessageSchema.index({ userId: 1, timestamp: -1 })\nChatMessageSchema.index({ userName: 1, timestamp: -1 })\nChatMessageSchema.index({ quizMode: 1 })\n\nconst ChatMessage: Model<IChatMessage> = mongoose.models.ChatMessage || mongoose.model<IChatMessage>('ChatMessage', ChatMessageSchema)\nexport default ChatMessage\n"],"names":[],"mappings":";;;;AAAA;;AAaA,MAAM,oBAAoB,IAAI,mHAAM,CAAe;IACjD,QAAQ;QAAE,MAAM,mHAAM,CAAC,KAAK,CAAC,QAAQ;QAAE,KAAK;QAAQ,UAAU;IAAK;IACnE,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,MAAM;QAAE,MAAM;QAAQ,MAAM;YAAC;YAAQ;SAAY;QAAE,UAAU;IAAK;IAClE,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,UAAU;QAAE,MAAM;QAAQ,SAAS;IAAU;IAC7C,UAAU;QAAE,MAAM;QAAS,SAAS;IAAM;IAC1C,WAAW;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;AAC7C,GAAG;IAAE,YAAY;AAAK;AAEtB,0BAA0B;AAC1B,kBAAkB,KAAK,CAAC;IAAE,QAAQ;IAAG,WAAW,CAAC;AAAE;AACnD,kBAAkB,KAAK,CAAC;IAAE,UAAU;IAAG,WAAW,CAAC;AAAE;AACrD,kBAAkB,KAAK,CAAC;IAAE,UAAU;AAAE;AAEtC,MAAM,cAAmC,oHAAQ,CAAC,MAAM,CAAC,WAAW,IAAI,oHAAQ,CAAC,KAAK,CAAe,eAAe;uCACrG"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///E:/projects/edu-bridge-ai-platform/app/api/chat/route.ts"],"sourcesContent":["import { getSession } from '@/lib/auth'\nimport connectDB from '@/lib/mongodb'\nimport ChatMessage from '@/lib/models/ChatMessage'\nimport { NextRequest, NextResponse } from 'next/server'\n\n// Cohere API Integration\nasync function generateCohereResponse(userMessage: string, language: string, chatHistory: any[]): Promise<string> {\n  try {\n    const COHERE_API_KEY = process.env.COHERE_API_KEY\n    \n    if (!COHERE_API_KEY) {\n      console.error('COHERE_API_KEY not configured')\n      return generateFallbackResponse(userMessage, language)\n    }\n\n    // Build conversation history for context\n    const conversationHistory = chatHistory\n      .slice(-5) // Last 5 messages for context\n      .reverse()\n      .map(msg => `${msg.role === 'user' ? 'Student' : 'Assistant'}: ${msg.content}`)\n      .join('\\n')\n\n    const systemPrompt = `You are EduBridge AI, a helpful learning assistant for students. Your role is to:\n- Provide clear, educational explanations\n- Encourage students with positive feedback\n- Break down complex topics into simple steps\n- Support multiple regional languages (English, Telugu, Hindi, Tamil, Kannada)\n- Never directly give quiz answers\n- Be encouraging and motivational\n\nCurrent language preference: ${language}\n${conversationHistory ? `\\n\\nPrevious conversation:\\n${conversationHistory}` : ''}`\n\n    const response = await fetch('https://api.cohere.ai/v1/chat', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${COHERE_API_KEY}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        message: userMessage,\n        model: 'command-r-plus-08-2024',\n        preamble: systemPrompt,\n        temperature: 0.7,\n        max_tokens: 500,\n      }),\n    })\n\n    if (!response.ok) {\n      console.error('Cohere API error:', response.status, await response.text())\n      return generateFallbackResponse(userMessage, language)\n    }\n\n    const data = await response.json()\n    return data.text || generateFallbackResponse(userMessage, language)\n  } catch (error) {\n    console.error('Error calling Cohere API:', error)\n    return generateFallbackResponse(userMessage, language)\n  }\n}\n\n// Fallback response generator for when Cohere API is unavailable\nfunction generateFallbackResponse(userMessage: string, language: string): string {\n  const msg = userMessage.toLowerCase()\n\n  // Teacher chat mode\n  if (msg.includes('chat with') && msg.includes('teacher')) {\n    return \"üìß Opening teacher chat... You can now send messages to your teacher. They'll respond when available.\"\n  }\n\n  // Math help\n  if (msg.includes('math') || msg.includes('calculate') || msg.includes('solve')) {\n    return \"üìê I can help with math! Please share your specific question or problem. I'll provide:\\n\\n1Ô∏è‚É£ Quick answer\\n2Ô∏è‚É£ Step-by-step solution\\n3Ô∏è‚É£ Key concepts to remember\\n\\nWhat would you like to learn?\"\n  }\n\n  // Concept explanation\n  if (msg.includes('explain') || msg.includes('what is') || msg.includes('define')) {\n    return \"üí° I'd be happy to explain! Let me break this down:\\n\\n1. **Simple explanation**: [Concept in easy words]\\n2. **Example**: Real-world application\\n3. **Remember**: Key points\\n\\nWould you like me to explain in your regional language (Telugu, Hindi, Tamil, Kannada)?\"\n  }\n\n  // Motivation\n  if (msg.includes('difficult') || msg.includes('hard') || msg.includes('confused')) {\n    return \"üí™ Don't worry! Learning takes time. Here's what we can do:\\n\\nüéØ Break the topic into smaller parts\\nüìö Review related concepts first\\n‚úèÔ∏è Practice similar problems\\nüé• Watch explanation videos\\n\\nYou're doing great! Keep going! üåü\"\n  }\n\n  // Progress tracking\n  if (msg.includes('progress') || msg.includes('score') || msg.includes('performance')) {\n    return \"üìä Let me analyze your learning journey:\\n\\n‚úÖ **Strengths**: Topics you've mastered\\n‚ö° **Improving**: Areas showing growth\\nüéØ **Focus Areas**: Topics needing attention\\nüèÜ **Achievements**: Your badges & streaks\\n\\nWould you like personalized study recommendations?\"\n  }\n\n  // Notes help\n  if (msg.includes('notes') || msg.includes('summary') || msg.includes('flashcard')) {\n    return \"üìù I can help with your notes!\\n\\nUpload or share your notes and I'll:\\n\\n‚ú® **Summarize** key points\\nüé¥ **Create flashcards** for quick revision\\nüìã **Extract** important concepts\\n‚ùì **Generate practice quizzes**\\n\\nWhat would you like me to do?\"\n  }\n\n  // Default helpful response\n  return \"üëã Hi! I'm your EduBridge AI assistant! I can help you with:\\n\\nüìö **Subject doubts** - Clear explanations\\nüåç **Regional languages** - Telugu, Hindi, Tamil, Kannada\\nüìä **Progress tracking** - Your learning journey\\nüìù **Notes analysis** - Summaries & flashcards\\nüí™ **Practice problems** - Adaptive difficulty\\nüéØ **Study tips** - Personalized recommendations\\n\\nWhat would you like to learn today?\"\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await getSession()\n    if (!session) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      )\n    }\n\n    await connectDB()\n\n    const { message, quizMode = false, language = 'english' } = await request.json()\n\n    if (!message) {\n      return NextResponse.json(\n        { success: false, error: 'Message is required' },\n        { status: 400 }\n      )\n    }\n\n    // Get recent chat history for context\n    const recentMessages = await ChatMessage.find({ userId: session.id })\n      .sort({ timestamp: -1 })\n      .limit(10)\n      .lean()\n\n    // Save user message\n    await ChatMessage.create({\n      userId: session.id,\n      userName: session.name,\n      role: 'user',\n      content: message,\n      language,\n      quizMode\n    })\n\n    // Check quiz mode first\n    let aiResponse: string\n    \n    if (quizMode) {\n      // Quiz Safe Mode - refuse to help\n      const quizResponses = {\n        english: \"üîí Quiz mode is active. I cannot help during the quiz. Continue your best!\",\n        telugu: \"üîí ‡∞ï‡±ç‡∞µ‡∞ø‡∞ú‡±ç ‡∞Æ‡±ã‡∞°‡±ç ‡∞Ø‡∞æ‡∞ï‡±ç‡∞ü‡∞ø‡∞µ‡±ç ‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞ï‡±ç‡∞µ‡∞ø‡∞ú‡±ç ‡∞∏‡∞Æ‡∞Ø‡∞Ç‡∞≤‡±ã ‡∞®‡±á‡∞®‡±Å ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞Ø‡∞≤‡±á‡∞®‡±Å. ‡∞Æ‡±Ä ‡∞â‡∞§‡±ç‡∞§‡∞Æ ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞Ç ‡∞ï‡±ä‡∞®‡∞∏‡∞æ‡∞ó‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø!\",\n        hindi: \"üîí ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§Æ‡•ã‡§° ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§π‡•à‡•§ ‡§Æ‡•à‡§Ç ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§Æ‡§¶‡§¶ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ‡•§ ‡§Ö‡§™‡§®‡§æ ‡§∏‡§∞‡•ç‡§µ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§† ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç!\",\n        tamil: \"üîí ‡Æµ‡Æø‡Æ©‡Ææ‡Æü‡Æø ‡Æµ‡Æø‡Æ©‡Ææ ‡ÆÆ‡ØÅ‡Æ±‡Øà ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Æø‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ. ‡Æµ‡Æø‡Æ©‡Ææ‡Æü‡Æø ‡Æµ‡Æø‡Æ©‡Ææ‡Æµ‡Æø‡Æ©‡Øç ‡Æ™‡Øã‡Æ§‡ØÅ ‡Æé‡Æ©‡Øç‡Æ©‡Ææ‡Æ≤‡Øç ‡Æâ‡Æ§‡Æµ ‡ÆÆ‡ØÅ‡Æü‡Æø‡ÆØ‡Ææ‡Æ§‡ØÅ. ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§ ‡ÆÆ‡ØÅ‡ÆØ‡Æ±‡Øç‡Æö‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øä‡Æü‡Æ∞‡Æµ‡ØÅ‡ÆÆ‡Øç!\",\n        kannada: \"üîí ‡≤ï‡≥ç‡≤µ‡≤ø‡≤ú‡≥ç ‡≤Æ‡≥ã‡≤°‡≥ç ‡≤∏‡≤ï‡≥ç‡≤∞‡≤ø‡≤Ø‡≤µ‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤ï‡≥ç‡≤µ‡≤ø‡≤ú‡≥ç ‡≤∏‡≤Æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø ‡≤®‡≤æ‡≤®‡≥Å ‡≤∏‡≤π‡≤æ‡≤Ø ‡≤Æ‡≤æ‡≤°‡≤≤‡≥Å ‡≤∏‡≤æ‡≤ß‡≥ç‡≤Ø‡≤µ‡≤ø‡≤≤‡≥ç‡≤≤. ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤Ö‡≤§‡≥ç‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤Æ ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤®‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Å‡≤µ‡≤∞‡≤ø‡≤∏‡≤ø!\"\n      }\n      aiResponse = quizResponses[language as keyof typeof quizResponses] || quizResponses.english\n    } else {\n      // Generate AI response using Cohere\n      aiResponse = await generateCohereResponse(message, language, recentMessages)\n    }\n\n    // Save AI response\n    await ChatMessage.create({\n      userId: session.id,\n      userName: session.name,\n      role: 'assistant',\n      content: aiResponse,\n      language,\n      quizMode\n    })\n\n    return NextResponse.json(\n      { \n        success: true, \n        response: aiResponse,\n        quizMode \n      },\n      { status: 200 }\n    )\n  } catch (error: any) {\n    console.error('Error in chat:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to process message', message: error.message },\n      { status: 500 }\n    )\n  }\n}\n\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getSession()\n    if (!session) {\n      return NextResponse.json(\n        { success: false, error: 'Unauthorized' },\n        { status: 401 }\n      )\n    }\n\n    await connectDB()\n\n    const messages = await ChatMessage.find({ userId: session.id })\n      .sort({ timestamp: 1 })\n      .limit(50)\n      .lean()\n\n    return NextResponse.json(\n      { success: true, messages },\n      { status: 200 }\n    )\n  } catch (error: any) {\n    console.error('Error fetching chat history:', error)\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch messages', message: error.message },\n      { status: 500 }\n    )\n  }\n}\n"],"names":[],"mappings":"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"}}]
}