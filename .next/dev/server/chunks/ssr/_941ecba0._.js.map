{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/projects/edu-bridge-ai-platform/app/principal/dashboard/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { BarChart3, BookOpen, Calendar, GraduationCap, Settings, UserPlus, Users } from \"lucide-react\"\nimport { useEffect, useState } from \"react\"\n\ninterface DashboardStats {\n  totalStudents: number\n  totalTeachers: number\n  totalClasses: number\n  totalCourses: number\n}\n\ninterface RecentStudent {\n  _id: string\n  name: string\n  email: string\n  className?: string\n  section?: string\n  createdAt: string\n}\n\nexport default function PrincipalDashboardPage() {\n  const [stats, setStats] = useState<DashboardStats>({\n    totalStudents: 0,\n    totalTeachers: 0,\n    totalClasses: 0,\n    totalCourses: 0,\n  })\n  const [recentStudents, setRecentStudents] = useState<RecentStudent[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    fetchDashboardStats()\n  }, [])\n\n  const fetchDashboardStats = async () => {\n    try {\n      const [statsRes, studentsRes] = await Promise.all([\n        fetch('/api/principal/stats'),\n        fetch('/api/principal/students')\n      ])\n\n      if (statsRes.ok) {\n        const data = await statsRes.json()\n        console.log('Stats response:', data)\n        if (data.success && data.stats) {\n          setStats(data.stats)\n        }\n      } else {\n        console.error('Stats API failed:', statsRes.status, await statsRes.text())\n      }\n\n      if (studentsRes.ok) {\n        const data = await studentsRes.json()\n        console.log('Students response:', data)\n        // Get the 5 most recent students\n        const sorted = (data.students || []).sort((a: RecentStudent, b: RecentStudent) => \n          new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\n        )\n        setRecentStudents(sorted.slice(0, 5))\n      }\n    } catch (error) {\n      console.error('Error fetching stats:', error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const statCards = [\n    {\n      title: \"Total Students\",\n      value: stats.totalStudents,\n      icon: Users,\n      color: \"text-blue-600\",\n      bgColor: \"bg-blue-50\",\n    },\n    {\n      title: \"Total Teachers\",\n      value: stats.totalTeachers,\n      icon: GraduationCap,\n      color: \"text-green-600\",\n      bgColor: \"bg-green-50\",\n    },\n    {\n      title: \"Classes\",\n      value: stats.totalClasses,\n      icon: BookOpen,\n      color: \"text-purple-600\",\n      bgColor: \"bg-purple-50\",\n    },\n    {\n      title: \"Courses\",\n      value: stats.totalCourses,\n      icon: Calendar,\n      color: \"text-orange-600\",\n      bgColor: \"bg-orange-50\",\n    },\n  ]\n\n  const quickActions = [\n    {\n      title: \"Create Teacher Account\",\n      description: \"Add a new teacher to your school\",\n      icon: UserPlus,\n      href: \"/principal/teachers/create\",\n      color: \"text-green-600\",\n    },\n    {\n      title: \"Enroll Student\",\n      description: \"Add a new student to your school\",\n      icon: Users,\n      href: \"/principal/students/create\",\n      color: \"text-blue-600\",\n    },\n    {\n      title: \"View Analytics\",\n      description: \"Check attendance, marks, and reports\",\n      icon: BarChart3,\n      href: \"/principal/analytics\",\n      color: \"text-purple-600\",\n    },\n    {\n      title: \"School Settings\",\n      description: \"Update school information\",\n      icon: Settings,\n      href: \"/principal/settings\",\n      color: \"text-orange-600\",\n    },\n  ]\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-bold\">Principal Dashboard</h1>\n        <p className=\"text-muted-foreground mt-1\">\n          Manage your school, teachers, and students\n        </p>\n      </div>\n\n      {/* Stats Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {statCards.map((stat, index) => (\n          <Card key={index} className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-muted-foreground\">{stat.title}</p>\n                <p className=\"text-3xl font-bold mt-2\">\n                  {isLoading ? \"...\" : stat.value}\n                </p>\n              </div>\n              <div className={`p-3 rounded-lg ${stat.bgColor}`}>\n                <stat.icon className={`w-6 h-6 ${stat.color}`} />\n              </div>\n            </div>\n          </Card>\n        ))}\n      </div>\n\n      {/* Quick Actions */}\n      <div>\n        <h2 className=\"text-xl font-semibold mb-4\">Quick Actions</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {quickActions.map((action, index) => (\n            <Card key={index} className=\"p-6 hover:shadow-lg transition-shadow cursor-pointer\">\n              <a href={action.href} className=\"flex items-start gap-4\">\n                <div className={`p-3 rounded-lg bg-muted`}>\n                  <action.icon className={`w-6 h-6 ${action.color}`} />\n                </div>\n                <div>\n                  <h3 className=\"font-semibold\">{action.title}</h3>\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    {action.description}\n                  </p>\n                </div>\n              </a>\n            </Card>\n          ))}\n        </div>\n      </div>\n\n      {/* Recent Activity Section */}\n      <div>\n        <h2 className=\"text-xl font-semibold mb-4\">Recently Enrolled Students</h2>\n        <Card className=\"p-6\">\n          {isLoading ? (\n            <p className=\"text-center text-muted-foreground py-8\">Loading...</p>\n          ) : recentStudents.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <Users className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n              <p className=\"text-muted-foreground\">No students enrolled yet</p>\n              <Button asChild className=\"mt-4\">\n                <a href=\"/principal/students/create\">\n                  <UserPlus className=\"w-4 h-4 mr-2\" />\n                  Enroll First Student\n                </a>\n              </Button>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"border-b\">\n                    <tr>\n                      <th className=\"text-left p-2 text-sm font-medium\">Name</th>\n                      <th className=\"text-left p-2 text-sm font-medium\">Email</th>\n                      <th className=\"text-left p-2 text-sm font-medium\">Class</th>\n                      <th className=\"text-left p-2 text-sm font-medium\">Section</th>\n                      <th className=\"text-left p-2 text-sm font-medium\">Enrolled</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {recentStudents.map((student) => (\n                      <tr key={student._id} className=\"border-b hover:bg-muted/50\">\n                        <td className=\"p-2 text-sm font-medium\">{student.name}</td>\n                        <td className=\"p-2 text-sm text-muted-foreground\">{student.email}</td>\n                        <td className=\"p-2 text-sm\">{student.className || '-'}</td>\n                        <td className=\"p-2 text-sm\">{student.section || '-'}</td>\n                        <td className=\"p-2 text-sm text-muted-foreground\">\n                          {new Date(student.createdAt).toLocaleDateString()}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <Button variant=\"outline\" className=\"w-full\" asChild>\n                <a href=\"/principal/students\">\n                  View All Students ({stats.totalStudents})\n                </a>\n              </Button>\n            </div>\n          )}\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user-plus.js","sources":["file:///E:/projects/edu-bridge-ai-platform/node_modules/.pnpm/lucide-react%400.454.0_react%4019.2.0/node_modules/lucide-react/src/icons/user-plus.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('UserPlus', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n]);\n\nexport default UserPlus;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAW,iQAAA,EAAiB,UAAY,CAAA,CAAA,CAAA;IAC5C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA6C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IAC1E;QAAC,QAAU,CAAA;QAAA,CAAA;YAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAK,CAAI,CAAA,CAAA,CAAA,GAAA,CAAK;YAAA,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA;YAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAS;KAAA,CAAA;IACrD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAE;YAAA,CAAA,CAAA,EAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,EAAA,CAAI,CAAA,CAAA,CAAA,CAAK,CAAA;YAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IACjE;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAE;YAAA,CAAA,CAAA,EAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAI,CAAM,CAAA,CAAA,CAAA,CAAA;YAAA,EAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA;YAAA,CAAA,CAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAM;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CACnE,CAAA,CAAA"}}]
}